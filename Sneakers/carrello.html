<!DOCTYPE html>
<head>
  
  <title>Carrello - ScarpeShop</title>
  <link rel="stylesheet" href="StyleProgetto.css">
  <style>

  </style>
    </head>
     <script>
  // Funzione per leggere il carrello dal localStorage
  function caricaCarrello() {
    const dati = localStorage.getItem("carrello");
    return dati ? JSON.parse(dati) : [];
  }

  // Funzione per salvare il carrello nel localStorage
  function salvaCarrello() {
    localStorage.setItem("carrello", JSON.stringify(carrello));
  }

  // Carica il carrello al caricamento
  let carrello = caricaCarrello();

  function aggiornaCarrello() {
    const tbody = document.querySelector("#carrello tbody");
    tbody.innerHTML = ""; // Svuota la tabella

    let totale = 0;

    carrello.forEach((item, index) => {
      const riga = document.createElement("tr");
  
      totale += Item.prezzo;

      riga.innerHTML = `
        <td>${item.nome}</td>
        <td>${item.taglia}</td>
        <td>${item.taglia}</td>
        <td>€${item.prezzo.toFixed(2)}</td> 
        <td>€${totaleItem.toFixed(2)}</td>
        <td><button onclick="rimuoviDalCarrello(${index})">X</button></td>`; //arrotonda 2 cifre decimali

      tbody.appendChild(riga);
    });

    document.getElementById("totaleCarrello").textContent = "Totale: €" + totale.toFixed(2);
  }

  function rimuoviDalCarrello(indice) {
    carrello.splice(indice, 1);
    salvaCarrello();
    aggiornaCarrello();
  }

  // Avvia tutto
  aggiornaCarrello();
  </script>

    <body>
        <header>
            <h1>SneakPlug</h1> 
        </header>

  <div class="contenuto">         
  <table id="carrello">
    <!-- gli elementi t(elemento html) si riferiscono alla parte della tabella, body tabella etc. -->
    <thead>
      <tr>
        <th>Scarpa</th>
        <th>Quantità</th>
        <th>Prezzo</th>
        <th>Totale</th>
        <th>Rimuovi</th>
      </tr>
    </thead>
    <tbody>
      
    </tbody>
  </table>

  <div class="total" id="totaleCarrello">Totale: €0.00</div>

 
  </div>
<footer>
  <p> Grazie per comprare da noi! Schifosi negggggri bastardi</p>
</footer>
</body>
</html>